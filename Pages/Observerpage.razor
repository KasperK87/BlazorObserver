@page "/Observer"

<h3>Observer</h3>

<div style=@mySub.style>
    <p>test</p>
</div>

<div style=@mySub2.style>
    <p>test</p>
</div>

<button class="btn btn-primary" @onclick="updateSubs">Click me</button>

@code {
    Data.Publisher myPub = new Data.Publisher();

    Data.Subscriber mySub = new Data.Subscriber();
    Data.Sub2 mySub2 = new Data.Sub2();

    protected override void OnInitialized()
    {
        myPub.subscribers.Add(mySub);
        myPub.subscribers.Add(mySub2);
    }

    void updateSubs(){
        myPub.updateSubscribers();
    }
}
